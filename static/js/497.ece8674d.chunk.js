"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[497],{497:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var r=t(791),a=t(420);const i="Profile_container__ev8pU",n="Profile_photoLarge__9AecM";var o=t(335),l=t(184);const u=e=>{const[s,t]=(0,r.useState)(!1),[a,i]=(0,r.useState)(e.status);(0,r.useEffect)((()=>{i(e.status)}),[e.status]);const n=()=>{t(!s),s&&e.updateUserStatus(a)};return(0,l.jsxs)("div",{children:[!s&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:()=>{n()},children:e.status})}),s&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:e=>{i(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{n()},value:a})})]})};var d=t(915),c=t(101);const x=e=>{let{profile:s,status:t,updateUserStatus:r,isCurrentUserProfile:x}=e;const p=(0,a.I0)();if(!s)return(0,l.jsx)(o.Z,{});return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("img",{src:"https://www.topgear.com/sites/default/files/2022/07/13.jpg",alt:""}),(0,l.jsx)("img",{className:n,src:s.photos.large?s.photos.large:d,alt:""}),x&&(0,l.jsx)("input",{type:"file",onChange:e=>{const s=e.target.files[0];s&&p((0,c.Ju)(s))}}),(0,l.jsx)(u,{status:t,updateUserStatus:r}),(0,l.jsx)("h2",{children:s.fullName}),(0,l.jsx)("h3",{children:s.aboutMe})]})};var p=t(969);const h="Post_item__7qRG4",j=e=>(0,l.jsxs)("div",{className:h,children:[(0,l.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Dwayne_Johnson_2%2C_2013.jpg/279px-Dwayne_Johnson_2%2C_2013.jpg",alt:""}),e.message,(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"like"})," ",e.likesCount]})]}),m="MyPosts_postsBlock__Nkjpk",g="MyPosts_posts__gsmvq";var f=t(812);const _=r.memo((e=>{let s=e.posts.map((e=>(0,l.jsx)(j,{message:e.message,likesCount:e.likesCount},e.id)));return(0,l.jsxs)("div",{className:m,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(f.Z,{onSubmit:s=>{e.addPost(s.newText)},maxlength:50}),(0,l.jsx)("div",{className:g,children:s})]})})),v=(0,a.$j)((e=>({posts:e.profilePage.posts})),{addPost:p.q2})(_),w=e=>{let{profile:s,status:t,updateUserStatus:r,isCurrentUserProfile:a}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)(x,{profile:s,status:t,updateUserStatus:r,isCurrentUserProfile:a}),(0,l.jsx)(v,{})]})};var U=t(689),k=t(927);const P=(0,t(154).qC)((0,a.$j)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorisedUserId:e.auth.id})),{getUserProfile:c.et,getUserStatus:c.Tq,updateUserStatus:c.OL}),k.D)((e=>{let{userId:s}=(0,U.UO)();return(0,r.useEffect)((()=>{s||(s=e.authorisedUserId),e.getUserProfile(s),e.getUserStatus(s)}),[s]),(0,l.jsx)(w,{...e,isCurrentUserProfile:!s})}))},812:(e,s,t)=>{t.d(s,{Z:()=>o});var r=t(705);t(791);const a="AddTextForm_errorInput__QAGc9",i="AddTextForm_errorText__ALgRD";var n=t(184);const o=e=>{let s=(t=e.maxlength,e=>e?e.length>t?"Max length is ".concat(t," symbols"):void 0:"Required");var t;return(0,n.jsx)(r.J9,{initialValues:{newText:""},onSubmit:e.onSubmit,children:e=>{let{errors:t,touched:o}=e;return(0,n.jsxs)(r.l0,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r.gN,{component:"textarea",name:"newText",placeholder:"Enter your text",validate:s,className:o.newText&&t.newText?a:""}),t.newText&&o.newText&&(0,n.jsx)("div",{className:i,children:t.newText})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",children:"Add"})})]})}})}},927:(e,s,t)=>{t.d(s,{D:()=>o});t(791);var r=t(420),a=t(689),i=t(184);const n=e=>({isAuth:e.auth.isAuth}),o=e=>(0,r.$j)(n)((s=>s.isAuth?(0,i.jsx)(e,{...s}):(0,i.jsx)(a.Fg,{to:"/login"})))},915:(e,s,t)=>{e.exports=t.p+"static/media/user.3c70c6dd4c2f7d7e6286.png"}}]);
//# sourceMappingURL=497.ece8674d.chunk.js.map