"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[849],{849:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var s=n(791),o=n(420);const r="User_container__XitVF",i="User_photo__9MZyN",l="User_infoContainer__cBeJE",c="User_info__71tsc";var a=n(915),u=n(87),p=n(184);const d=e=>{let{user:t,...n}=e;return(0,p.jsxs)("div",{className:r,children:[(0,p.jsxs)("div",{className:i,children:[(0,p.jsx)(u.OL,{to:"/profile/"+t.id,children:(0,p.jsx)("img",{src:null!=t.photos.small?t.photos.small:a,alt:""})}),(0,p.jsx)("div",{children:t.followed?(0,p.jsx)("button",{disabled:n.followingInProgress.some((e=>e===t.id)),onClick:()=>{n.unFollowUser(t.id)},children:"Unfollow"}):(0,p.jsx)("button",{disabled:n.followingInProgress.some((e=>e===t.id)),onClick:()=>{n.followUser(t.id)},children:"Follow"})})]}),(0,p.jsxs)("div",{className:l,children:[(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("div",{children:t.name}),(0,p.jsx)("div",{children:t.status})]}),(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("div",{children:"City"}),(0,p.jsx)("div",{children:"Country"})]})]})]})},f="Paginator_selected__Ep0-k",g="Paginator_notSelected__O2CfG",h=e=>{let{totalItemsCount:t,sizePage:n,currentPage:o,onPageChanged:r,portionSize:i=10}=e;const[l,c]=(0,s.useState)(1),a=Math.ceil(t/n),u=[];for(let s=1;s<=a;s++)u.push(s);const d=Math.ceil(a/i),h=(l-1)*i+1,v=l*i;return(0,s.useEffect)((()=>{c(Math.ceil(o/i))}),[o,i]),(0,p.jsxs)("div",{children:[l>1&&(0,p.jsx)("button",{onClick:()=>{c(l-1)},children:"Prev"}),u.filter((e=>e>=h&&e<=v)).map(((e,t)=>(0,p.jsxs)("span",{className:o===e?f:g,onClick:()=>{r(e,n)},children:[" ",e," "]},t))),d>l&&(0,p.jsx)("button",{onClick:()=>{c(l+1)},children:"Next"})]})},v=e=>{let{usersCount:t,sizePage:n,currentPage:s,onPageChanged:o,...r}=e,i=r.users.map((e=>(0,p.jsx)(d,{user:e,unFollowUser:r.unFollowUser,followUser:r.followUser,followingInProgress:r.followingInProgress},e.id)));return(0,p.jsxs)("div",{children:[(0,p.jsx)(h,{totalItemsCount:t,sizePage:n,currentPage:s,onPageChanged:o}),(0,p.jsx)("div",{children:i})]})};var m=n(335),w=n(405),y=n(154),j=n(927);function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var x=e=>Array.isArray(e)?e:[e];function C(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var b="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},_=0,k=1;function z(){return{s:_,v:void 0,o:null,p:null}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=z();const{resultEqualityCheck:s}=t;let o,r=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const s=e.get(n);void 0===s?(t=z(),e.set(n,t)):t=s}else{let e=t.p;null===e&&(t.p=e=new Map);const s=e.get(n);void 0===s?(t=z(),e.set(n,t)):t=s}}const l=t;let c;if(t.s===k?c=t.v:(c=e.apply(null,arguments),r++),l.s=k,s){var a,u,p;const e=null!==(a=null===(u=o)||void 0===u||null===(p=u.deref)||void 0===p?void 0:p.call(u))&&void 0!==a?a:o;null!=e&&s(e,c)&&(c=e,0!==r&&r--);o="object"===typeof c&&null!==c||"function"===typeof c?new b(c):c}return l.v=c,c}return i.clearCache=()=>{n=z(),i.resetResultsCount()},i.resultsCount=()=>r,i.resetResultsCount=()=>{r=0},i}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o="function"===typeof e?{memoize:e,memoizeOptions:n}:e,r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let s,r=0,i=0,l={},c=t.pop();"object"===typeof c&&(l=c,c=t.pop()),P(c,"createSelector expects an output function after the inputs, but received: [".concat(typeof c,"]"));const a={...o,...l},{memoize:u,memoizeOptions:p=[],argsMemoize:d=U,argsMemoizeOptions:f=[],devModeChecks:g={}}=a,h=x(p),v=x(f),m=C(t),w=u((function(){return r++,c.apply(null,arguments)}),...h);const y=d((function(){i++;const e=function(e,t){const n=[],{length:s}=e;for(let o=0;o<s;o++)n.push(e[o].apply(null,t));return n}(m,arguments);return s=w.apply(null,e),s}),...v);return Object.assign(y,{resultFunc:c,memoizedResultFunc:w,dependencies:m,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>s,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:u,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var I=F(U),M=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),s=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.reduce(((e,t,s)=>(e[n[s]]=t,e)),{})}));return s}),{withTypes:()=>M});const O=I([e=>e.usersPage.users],(e=>e.filter((e=>!0)))),A=e=>e.usersPage.currentPage,N=e=>e.usersPage.totalUsersCount,R=e=>e.usersPage.sizePage,S=e=>e.usersPage.isFetching,E=e=>e.usersPage.followingInProgress;class D extends s.Component{componentDidMount(){const{currentPage:e,sizePage:t}=this.props;this.props.requestUsers(e,t)}render(){return(0,p.jsxs)(p.Fragment,{children:[" ",this.props.isFetching&&(0,p.jsx)(m.Z,{}),(0,p.jsx)(v,{users:this.props.users,currentPage:this.props.currentPage,usersCount:this.props.usersCount,sizePage:this.props.sizePage,followingInProgress:this.props.followingInProgress,followUser:this.props.follow,unFollowUser:this.props.unFollow,onPageChanged:this.props.onPageChanged})]})}}const T=(0,y.qC)((0,o.$j)((e=>({users:O(e),currentPage:A(e),usersCount:N(e),sizePage:R(e),isFetching:S(e),followingInProgress:E(e)})),{follow:w.ZN,unFollow:w.IJ,onPageChanged:w.we,requestUsers:w.D7}),j.D)(D)},927:(e,t,n)=>{n.d(t,{D:()=>l});n(791);var s=n(420),o=n(689),r=n(184);const i=e=>({isAuth:e.auth.isAuth}),l=e=>(0,s.$j)(i)((t=>t.isAuth?(0,r.jsx)(e,{...t}):(0,r.jsx)(o.Fg,{to:"/login"})))},915:(e,t,n)=>{e.exports=n.p+"static/media/user.3c70c6dd4c2f7d7e6286.png"}}]);
//# sourceMappingURL=849.390e3b5e.chunk.js.map