"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[497],{497:(s,e,t)=>{t.r(e),t.d(e,{default:()=>S});var r=t(791),a=t(420);const o="Profile_container__ev8pU",i="Profile_photoLarge__9AecM";var n=t(335),l=t(184);const u=s=>{const[e,t]=(0,r.useState)(!1),[a,o]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{o(s.status)}),[s.status]);const i=()=>{t(!e),e&&s.updateUserStatus(a)};return(0,l.jsxs)("div",{children:[!e&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:()=>{i()},children:s.status})}),e&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:s=>{o(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{i()},value:a})})]})};var d=t(915);const c=s=>{let{profile:e,status:t,updateUserStatus:r}=s;return e?(0,l.jsxs)("div",{className:o,children:[(0,l.jsx)("img",{src:"https://www.topgear.com/sites/default/files/2022/07/13.jpg",alt:""}),(0,l.jsx)("img",{className:i,src:e.photos.large?e.photos.large:d,alt:""}),(0,l.jsx)(u,{status:t,updateUserStatus:r}),(0,l.jsx)("h2",{children:e.fullName}),(0,l.jsx)("h3",{children:e.aboutMe})]}):(0,l.jsx)(n.Z,{})};var x=t(969);const h="Post_item__7qRG4",p=s=>(0,l.jsxs)("div",{className:h,children:[(0,l.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Dwayne_Johnson_2%2C_2013.jpg/279px-Dwayne_Johnson_2%2C_2013.jpg",alt:""}),s.message,(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"like"})," ",s.likesCount]})]}),j="MyPosts_postsBlock__Nkjpk",m="MyPosts_posts__gsmvq";var g=t(812);const _=r.memo((s=>{let e=s.posts.map((s=>(0,l.jsx)(p,{message:s.message,likesCount:s.likesCount},s.id)));return(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(g.Z,{onSubmit:e=>{s.addPost(e.newText)},maxlength:50}),(0,l.jsx)("div",{className:m,children:e})]})})),v=(0,a.$j)((s=>({posts:s.profilePage.posts})),{addPost:x.q2})(_),f=s=>{let{profile:e,status:t,updateUserStatus:r}=s;return(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{profile:e,status:t,updateUserStatus:r}),(0,l.jsx)(v,{})]})};var w=t(689),k=t(101),U=t(927);const S=(0,t(154).qC)((0,a.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.id})),{getUserProfile:k.et,getUserStatus:k.Tq,updateUserStatus:k.OL}),U.D)((s=>{let{userId:e}=(0,w.UO)();return(0,r.useEffect)((()=>{e||(e=s.authorisedUserId),s.getUserProfile(e),s.getUserStatus(e)}),[e]),(0,l.jsx)(f,{...s})}))},812:(s,e,t)=>{t.d(e,{Z:()=>n});var r=t(705);t(791);const a="AddTextForm_errorInput__QAGc9",o="AddTextForm_errorText__ALgRD";var i=t(184);const n=s=>{let e=(t=s.maxlength,s=>s?s.length>t?"Max length is ".concat(t," symbols"):void 0:"Required");var t;return(0,i.jsx)(r.J9,{initialValues:{newText:""},onSubmit:s.onSubmit,children:s=>{let{errors:t,touched:n}=s;return(0,i.jsxs)(r.l0,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(r.gN,{component:"textarea",name:"newText",placeholder:"Enter your text",validate:e,className:n.newText&&t.newText?a:""}),t.newText&&n.newText&&(0,i.jsx)("div",{className:o,children:t.newText})]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",children:"Add"})})]})}})}},927:(s,e,t)=>{t.d(e,{D:()=>n});t(791);var r=t(420),a=t(689),o=t(184);const i=s=>({isAuth:s.auth.isAuth}),n=s=>(0,r.$j)(i)((e=>e.isAuth?(0,o.jsx)(s,{...e}):(0,o.jsx)(a.Fg,{to:"/login"})))},915:(s,e,t)=>{s.exports=t.p+"static/media/user.3c70c6dd4c2f7d7e6286.png"}}]);
//# sourceMappingURL=497.ae6ee78d.chunk.js.map